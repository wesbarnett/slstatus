*** a/slstatus.c	2017-03-16 07:38:28.050112122 -0500
--- b/slstatus.c	2017-03-16 08:04:26.131293193 -0500
***************
*** 112,121 ****
  		warn("Failed to open file %s", path);
  		return smprintf("%s", UNKNOWN_STR);
  	}
! 	fscanf(fp, "%i", &perc);
  	fclose(fp);
  
! 	return smprintf("%d%%", perc);
  }
  
  static char *
--- 112,133 ----
  		warn("Failed to open file %s", path);
  		return smprintf("%s", UNKNOWN_STR);
  	}
!     fscanf(fp, "%i", &perc);
  	fclose(fp);
  
!     if (perc <= battery_urgent)
!     {
! 	    return smprintf("%d%%", perc);
!     }
!     else if (perc <= battery_low)
!     {
! 	    return smprintf("%d%%", perc);
!     }
!     else
!     {
!   	    return smprintf("%d%%", perc);
!     }
! 
  }
  
  static char *
***************
*** 135,147 ****
  	fclose(fp);
  
  	if (strcmp(state, "Charging") == 0) {
! 		return smprintf("+");
  	} else if (strcmp(state, "Discharging") == 0) {
! 		return smprintf("-");
  	} else if (strcmp(state, "Full") == 0) {
! 		return smprintf("=");
  	} else {
! 		return smprintf("?");
  	}
  }
  
--- 147,159 ----
  	fclose(fp);
  
  	if (strcmp(state, "Charging") == 0) {
! 		return smprintf("+");
  	} else if (strcmp(state, "Discharging") == 0) {
! 		return smprintf("-");
  	} else if (strcmp(state, "Full") == 0) {
! 		return smprintf("=");
  	} else {
! 		return smprintf("?");
  	}
  }
  
***************
*** 683,689 ****
  
  	close(afd);
  
! 	return smprintf("%d%%", v & 0xff);
  }
  
  static char *
--- 695,712 ----
  
  	close(afd);
  
!     if (v < 1) 
!     {
! 	    return smprintf(" %d%%", v & 0xff);
!     }
!     else if (v < 10)
!     {
! 	    return smprintf(" %d%%", v & 0xff);
!     }
!     else
!     {
! 	    return smprintf("%d%%", v & 0xff);
!     }
  }
  
  static char *
